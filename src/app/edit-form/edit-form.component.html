<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<div class="edit-body">
    
    <div class="home-body" *ngIf="this._contactsService.contacts.length>0">
        <h2 class="sub-heading">CONTACTS</h2>
        <div class="contacts-container">
            <div class="contact-cards" *ngFor="let contact of this._contactsService.contacts; let i = index;">
                <div class="contact-card pointer" [ngClass]="{'selected':_contactsService.selectedContact===i}">
                    <div class="contact-card-data">
                        <div class="contact-card-title">{{contact.name}}</div>
                        <div>{{contact.mobile}}</div>
                        <div>{{contact.email}}</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="form-container">
    <form [formGroup]="editContact" (ngSubmit)="onSubmit()">
        <div class="form-group">
            <label> <b>Name</b> <span class="text-danger">*</span></label>
            <input
                [class.is-invalid]="editContact.get('name')?.invalid && editContact.get('name')?.touched"
                formControlName="name" type="text" class="form-control" [(ngModel)]="_contactsService.contacts[_contactsService.selectedContact].name" required>
            <small [class.d-none]="editContact.get('name')?.valid || editContact.get('name')?.untouched"
                class="text-danger">Username is required</small>
        </div>

        <div class="form-group">
            <label><b>Email</b> <span class="text-danger">*</span></label>
            <input
                [class.is-invalid]="editContact.get('email')?.invalid && editContact.get('email')?.touched"
                formControlName="email" type="email" class="form-control" [(ngModel)]="_contactsService.contacts[_contactsService.selectedContact].email" required>
            <small
                [class.d-none]="editContact.get('email')?.valid || editContact.get('email')?.untouched"
                class="text-danger">Email is required</small>
        </div>

        <div class="row pb-3" style="padding-right: 150px;">
            <div class="col">
                <label><b>Mobile</b> <span class="text-danger">*</span></label>
                <input
                    [class.is-invalid]="editContact.get('mobile')?.invalid && editContact.get('mobile')?.touched"
                    formControlName="mobile" type="text" class="form-control" [(ngModel)]="_contactsService.contacts[_contactsService.selectedContact].mobile" required>
                <small
                    [class.d-none]="editContact.get('mobile')?.valid || editContact.get('mobile')?.untouched"
                    class="text-danger">Mobile is required</small>
            </div>
            <div class="col">
                <label><b>Landline</b></label>
                <input formControlName="landline" type="text" class="form-control" [(ngModel)]="_contactsService.contacts[_contactsService.selectedContact].landline">
            </div>
        </div>

        <div class="form-group">
            <label><b>Website</b></label>
            <input formControlName="website" type="url" class="form-control" [(ngModel)]="_contactsService.contacts[_contactsService.selectedContact].website">
        </div>

        <div class="form-group">
            <label><b>Address</b></label>
            <textarea formControlName="address" class="form-control" [(ngModel)]="_contactsService.contacts[_contactsService.selectedContact].address">
        </textarea>
        </div>
        <div class="button">
            <button class="btn bg-success ps-5 pe-5" type="submit"> Edit </button>
        </div>
    </form>
</div>
</div>
</body>
</html>

